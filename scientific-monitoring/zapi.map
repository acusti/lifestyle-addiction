{"version":3,"file":"zapi.js","sources":["zapi-compiled.js"],"names":["$","zapi","js_plugin_src","defaults","collection","user","num_entries","start","zotero_options","params","callback","collection_name","window","location","pathname","split","pop","replace","feed_base","namespace","$body","document","body","$window","$parent_body","$footer","$year_filter","$year_links","$year_sections","years","total","is_init","load_all","all_loaded","loading_class","year_section_class","loading_indicator_styles","loading_indicator_html","year_heading_styles","year_filter_html","year_filter_styles","tab_height_timeout","fixTabHeight","clearTimeout","setTimeout","off","frameElement","height","tab_height","parent","on","filterByType","type","this","attr","buildParams","options","extend","getFeedUrl","feed_url","q","encodeURIComponent","getReferences","prepareMarkup","hasClass","find","append","addClass","prev","className","before","ajax","url","dataType","success","resp","$entry","$bib","bib_html","bib_url_start","entry","$feed","parseXML","responseData","xmlString","$entries","len","length","i","ref_html","the_year","year_class","is_new_year","parseInt","text","parseJSON","filter","push","title","children","outerHTML","lastIndexOf","substring","indexOf","loadYearFilterList","year_list","yearFilterToggle","yearFilterTitleToggle","evt","preventDefault","$year_link","active_years","toggleClass","each","innerHTML","not","removeClass","fadeOut","fadeIn","trigger","getNextReferences","timedout","stopPropagation","yearFilterAddActive","yearFilterToggleActive","zotero_api","undefined","event","special","inview","href","join","jQuery"],"mappings":"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"}